public class MainProgram {
    public static void main(String[] args) {
        MatrixManager manager = new MatrixManager();       // Step 1: Create manager to handle input/output
        MatrixOperator operator = new MatrixOperator();     // Step 2: Create operator to do calculations
        InputHandler input = new InputHandler();            // Step 3: Create input handler to get user data

        // Step 4: Loop until user selects exit
        while (true) {
            manager.displayMenu();                          // Function 1: Display menu to user
            int choice = input.getInt("Your choice: ", 1, 4);  // Step 5: Ask user to choose function

            // Condition: check if user wants to quit
            if (choice == 4) {
                System.out.println("Program exited. Goodbye!"); // Step 6: Exit
                break;
            }

            // Step 7: Display operation title (Addition / Subtraction / Multiplication)
            manager.displayOperationTitle(choice);

            // Step 8: Get first matrix (rows, columns, values)
            int[][] matrix1 = manager.getMatrix("Matrix 1");

            // Step 9: Get second matrix (with condition check)
            int[][] matrix2 = manager.getMatrix2(matrix1, choice);

            // Step 10: Declare result matrix
            int[][] result = null;

            // Function 2: Perform calculation based on selected option
            switch (choice) {
                case 1 -> result = operator.additionMatrix(matrix1, matrix2);          // Option 1: Addition
                case 2 -> result = operator.subtractionMatrix(matrix1, matrix2);       // Option 2: Subtraction
                case 3 -> result = operator.multiplicationMatrix(matrix1, matrix2);    // Option 3: Multiplication
            }

            // Step 11: Display result of the operation
            manager.displayResult(matrix1, matrix2, result, choice);
        }
    }
}
